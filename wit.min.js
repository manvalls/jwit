(function(w){var f=w.wit=w.wit||{};(function(){var g=[];if(!f.call){f.call=function(f,q,p){var m=w;p=p||document.scripts[document.scripts.length-1].parentNode;var k;for(k=0;k<f.length;k++){var t=m;m=m[f[k]];if(!m){g.push([f,q,p]);return}}try{m.call(t,q,p)}catch(d){setTimeout(function(){throw d;},0)}};var m=f.run;f.run=function(){var k=g,q;g=[];for(q=0;q<k.length;q++)f.call(k[q][0],k[q][1],k[q][2]);m&&m()}}})();(function(){function g(g){f[g[0]]=function(){for(var f=[g[1]],m=0;m<arguments.length;m++)f.push(arguments[m]);return f}}f.nil=[0];f.isNil=function(f){return 0==f[0]};var m=[["list",1],["root",2],["one",3],["all",4],["parent",5],["firstChild",6],["lastChild",7],["prevSibling",8],["nextSibling",9],["html",12],["replace",13],["append",14],["prepend",15],["insertAfter",16],["insertBefore",17],["addAttr",18],["setAttr",19],["rmAttr",20],["addStyles",21],["rmStyles",22],["addClass",23],["rmClass",24],["call",25]];f.remove=[10];f.clear=[11];for(var k=0;k<m.length;k++)g(m[k])})();(function(){function g(){var f={},g=0;return{subscribe:function(m){var k=g++;f[k]=m;return k},unsubscribe:function(g){delete f[g]},trigger:function(){for(var g in f)if(f.hasOwnProperty(g))try{f[g].apply(this,arguments)}catch(p){setTimeout(function(){throw p;},0)}}}}f.event=g;f.afterApply=g();f.beforeNodeUnmount=g();f.beforeUnmount=g();f.afterAttrChange=g();f.beforeMount=g()})();(function(){function g(d,a,e,f,c){var b,h;for(b=a;b<d.length;b++)if(g)g.push(d[b]);else if(h=t(d[b],e,f,c)){var g=d.slice(0,a);g.push(h)}return g}function m(d,a){var e=[],f,c,b;for(f=0;f<d.length;f++){var g=a(d[f]);for(c=0;c<g.length;c++)(b=g[c])&&1==b.nodeType&&e.push(b)}return e}function k(d,a){var e;a&&"LINK"==d.tagName&&"stylesheet"==d.rel&&(d.disabled=!0);var h=d.querySelectorAll("link[rel=stylesheet]");for(e=0;e<h.length;e++)h[e].disabled=!0;a?(f.beforeUnmount.trigger(d),f.beforeNodeUnmount.trigger(d)):f.beforeUnmount.trigger(d)}function q(d,a){d.addEventListener?(d.addEventListener("load",a,!1),d.addEventListener("error",a,!1)):d.attachEvent&&(d.attachEvent("onload",a),d.attachEvent("onerror",a))}function p(d,a,e){function h(){a.done++;a.done==a.total&&e()}var c,b=[];var g=d.querySelectorAll("link[rel=stylesheet]");var m=d.querySelectorAll("script");for(c=0;c<g.length;c++){var k=g[c];k.sheet||b.push(k)}for(c=0;c<m.length;c++){k=m[c];var v=document.createElement("script");v.text=k.text;for(g=k.attributes.length-1;0<=g;g--){var p=k.attributes[g];v.setAttribute(p.name,p.value)}k.parentNode.replaceChild(v,k);v.src&&b.push(v)}for(c=0;c<b.length;c++)k=b[c],"onload"in k&&"onerror"in k&&(a.total++,q(k,h));f.beforeMount.trigger(d,function(b){a.total++;b(h)})}function r(d){var a={};d=d.split(/[\s\uFEFF\xA0]+/);var e,f;for(e=0;e<d.length;e++)(f=d[e])&&(a[f]=!0);return a}function u(d){var a=[],e;for(e in d)d.hasOwnProperty(e)&&d[e]&&a.push(e);return a.join(" ")}function t(d,a,e,h){var c;switch(d[0]){case 1:return g(d,1,a,e,h);case 2:return g(d,1,a,[a],h);case 3:return g(d,2,a,m(e,function(a){try{return[a.querySelector(d[1])]}catch(x){return setTimeout(function(){throw x;},0),[]}}),h);case 4:return g(d,2,a,m(e,function(a){try{return a.querySelectorAll(d[1])}catch(x){return setTimeout(function(){throw x;},0),[]}}),h);case 5:return g(d,1,a,m(e,function(a){return[a.parentNode]}),h);case 6:return g(d,1,a,m(e,function(a){var b=a.childNodes;for(a=0;a<b.length;a++){var c=b[a];if(1==c.nodeType)return[c]}return[]}),h);case 7:return g(d,1,a,m(e,function(a){var b=a.childNodes;for(a=b.length-1;0<=a;a--){var c=b[a];if(1==c.nodeType)return[c]}return[]}),h);case 8:return g(d,1,a,m(e,function(a){for(a=a.previousSibling;a&&1!==a.nodeType;)a=a.previousSibling;return a?[a]:[]}),h);case 9:return g(d,1,a,m(e,function(a){for(a=a.nextSibling;a&&1!==a.nodeType;)a=a.nextSibling;return a?[a]:[]}),h);case 10:for(a=0;a<e.length;a++){var b=e[a];k(b,!0);b.parentNode&&b.parentNode.removeChild(b)}break;case 11:for(a=0;a<e.length;a++)b=e[a],k(b,!1),b.innerHTML="";break;case 12:var l={total:0,done:0};for(a=0;a<e.length;a++)b=e[a],k(b,!1),b.innerHTML=d[1],p(b,l,h);return l.total>l.done?[0]:null;case 13:l={total:0,done:0};for(a=0;a<e.length;a++)if(b=e[a],b.parentNode){k(b,!0);var n=b.parentNode.cloneNode();n.innerHTML=d[1];p(n,l,h);for(c=0;c<n.childNodes.length;c++)b.parentNode.insertBefore(n.childNodes[c],b);b.parentNode.removeChild(b)}return l.total>l.done?[0]:null;case 14:l={total:0,done:0};for(a=0;a<e.length;a++)for(b=e[a],n=b.cloneNode(),n.innerHTML=d[1],p(n,l,h),c=0;c<n.childNodes.length;c++)b.appendChild(n.childNodes[c]);return l.total>l.done?[0]:null;case 15:l={total:0,done:0};for(a=0;a<e.length;a++){b=e[a];var q=b.firstChild;n=b.cloneNode();n.innerHTML=d[1];p(n,l,h);for(c=0;c<n.childNodes.length;c++)b.insertBefore(n.childNodes[c],q)}return l.total>l.done?[0]:null;case 16:l={total:0,done:0};for(a=0;a<e.length;a++)if(b=e[a],b.parentNode)for(n=b.parentNode.cloneNode(),n.innerHTML=d[1],p(n,l,h),c=0;c<n.childNodes.length;c++)b.parentNode.insertBefore(n.childNodes[c],b.nextSibling);return l.total>l.done?[0]:null;case 17:l={total:0,done:0};for(a=0;a<e.length;a++)if(b=e[a],b.parentNode)for(n=b.parentNode.cloneNode(),n.innerHTML=d[1],p(n,l,h),c=0;c<n.childNodes.length;c++)b.parentNode.insertBefore(n.childNodes[c],b);return l.total>l.done?[0]:null;case 18:h=d[1];for(a=0;a<e.length;a++){b=e[a];for(c in h)h.hasOwnProperty(c)&&b.setAttribute(c,h[c]);f.afterAttrChange.trigger(b)}break;case 19:h=d[1];for(a=0;a<e.length;a++){b=e[a];for(c=b.attributes.length-1;0<=c;c--)at=b.attributes[c].name,h.hasOwnProperty(at)||b.removeAttribute(at);for(c in h)h.hasOwnProperty(c)&&b.setAttribute(c,h[c]);f.afterAttrChange.trigger(b)}break;case 20:for(a=0;a<e.length;a++){b=e[a];for(c=1;c<d.length;c++)b.removeAttribute(d[c]);f.afterAttrChange.trigger(b)}break;case 21:h=d[1];for(a=0;a<e.length;a++){b=e[a];for(c in h)h.hasOwnProperty(c)&&((l=h[c].match(/^(.*?)(\s*)!important$/))?b.style.setProperty(c,l[1],"important"):b.style.setProperty(c,h[c]));f.afterAttrChange.trigger(b)}break;case 22:for(a=0;a<e.length;a++){b=e[a];for(c=1;c<d.length;c++)b.style.removeProperty(d[c]);f.afterAttrChange.trigger(b)}break;case 23:h=r(d[1]);for(a=0;a<e.length;a++){b=e[a];l=r(b.className);for(c in h)h.hasOwnProperty(c)&&(l[c]=!0);b.className=u(l);f.afterAttrChange.trigger(b)}break;case 24:h=r(d[1]);for(a=0;a<e.length;a++){b=e[a];l=r(b.className);for(c in h)h.hasOwnProperty(c)&&delete l[c];b.className=u(l);f.afterAttrChange.trigger(b)}break;case 25:for(a=0;a<e.length;a++)f.call(d[1],d[2],e[a])}}f.toClass=u;f.fromClass=r;f.apply=function h(a,e){e=e||document.documentElement;return function(c){c=c||function(){};var b=t(a,e,[e],function(){h(b,e)(c)});f.afterApply.trigger(e);b||setTimeout(c,0)}}})();(function(){f.hook=function(g,m){function k(){f.beforeNodeUnmount.unsubscribe(r);f.beforeUnmount.unsubscribe(u);f.afterAttrChange.unsubscribe(t);q.trigger()}var q=f.event(),p=f.event();if(g.ownerDocument.contains(g)){var r=f.beforeNodeUnmount.subscribe(function(d){d===g&&k()});var u=f.beforeUnmount.subscribe(function(d){d.contains(g)&&k()});var t=f.afterAttrChange.subscribe(function(d){d===g&&p.trigger()});m({beforeNodeUnmount:q,afterAttrChange:p})}}})();"undefined"!=typeof module&&(module.exports=f)})("undefined"==typeof window?self:window);

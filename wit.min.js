(function(r){var f=r.wit=r.wit||{};(function(){var h=[];if(!f.call){f.call=function(f,q,p){var k=r;p=p||document.scripts[document.scripts.length-1].parentNode;var n;for(n=0;n<f.length;n++){var v=k;k=k[f[n]];if(!k){h.push([f,q,p]);return}}k.call(v,q,p)};var k=f.run;f.run=function(){var n=h,q;h=[];for(q=0;q<n.length;q++)try{f.call(n[q][0],n[q][1],n[q][2])}catch(p){setTimeout(function(){throw p;},0)}k&&k()}}})();(function(){function h(k){f[k[0]]=function(){for(var f=[k[1]],h=0;h<arguments.length;h++)f.push(arguments[h]);return f}}f.nil=[0];f.isNil=function(f){return 0==f[0]};var k=[["list",1],["root",2],["one",3],["all",4],["parent",5],["firstChild",6],["lastChild",7],["prevSibling",8],["nextSibling",9],["html",12],["replace",13],["append",14],["prepend",15],["insertAfter",16],["insertBefore",17],["addAttr",18],["setAttr",19],["rmAttr",20],["addStyles",21],["rmStyles",22],["addClass",23],["rmClass",24],["call",25]];f.beforeUnmount=[10];f.clear=[11];for(var n=0;n<k.length;n++)h(k[n])})();(function(){function h(){var f={},h=0;return{subscribe:function(k){var n=h++;f[n]=k;return n},unsubscribe:function(h){delete f[h]},trigger:function(){for(var h in f)if(f.hasOwnProperty(h))try{f[h].apply(this,arguments)}catch(p){setTimeout(function(){throw p;},0)}}}}f.event=h;f.afterApply=h();f.beforeUnmount=h();f.beforeChildrenUnmount=h();f.afterAttrChange=h();f.beforeMount=h()})();(function(){function h(e,a,d,g,c){var b,f;for(b=a;b<e.length;b++)if(h)h.push(e[b]);else if(f=v(e[b],d,g,c)){var h=e.slice(0,a);h.push(f)}return h}function k(e,a){var d=[],g,c,b;for(g=0;g<e.length;g++){var f=a(e[g]);for(c=0;c<f.length;c++)(b=f[c])&&1==b.nodeType&&d.push(b)}return d}function n(e,a){var d;a&&"LINK"==e.tagName&&"stylesheet"==e.rel&&(e.disabled=!0);var g=e.querySelectorAll("link[rel=stylesheet]");for(d=0;d<g.length;d++)g[d].disabled=!0;a?(f.beforeChildrenUnmount.trigger(e),f.beforeUnmount.trigger(e)):f.beforeChildrenUnmount.trigger(e)}function q(e,a){e.addEventListener?(e.addEventListener("load",a,!1),e.addEventListener("error",a,!1)):e.attachEvent&&(e.attachEvent("onload",a),e.attachEvent("onerror",a))}function p(e,a,d){function g(){a.done++;a.done==a.total&&d()}var c,b=[];var h=e.querySelectorAll("link[rel=stylesheet]");var m=e.querySelectorAll("script");for(c=0;c<h.length;c++){var k=h[c];k.sheet||b.push(k)}for(c=0;c<m.length;c++){k=m[c];var u=document.createElement("script");u.text=k.text;for(h=k.attributes.length-1;0<=h;h--){var n=k.attributes[h];u.setAttribute(n.name,n.value)}k.parentNode.replaceChild(u,k);u.src&&b.push(u)}for(c=0;c<b.length;c++)k=b[c],"onload"in k&&"onerror"in k&&(a.total++,q(k,g));f.beforeMount.trigger(e,function(b){a.total++;b(g)})}function t(e){var a={};e=e.split(/[\s\uFEFF\xA0]+/);var d,f;for(d=0;d<e.length;d++)(f=e[d])&&(a[f]=!0);return a}function r(e){var a=[],d;for(d in e)e.hasOwnProperty(d)&&e[d]&&a.push(d);return a.join(" ")}function v(e,a,d,g){var c;switch(e[0]){case 1:return h(e,1,a,d,g);case 2:return h(e,1,a,[a],g);case 3:return h(e,2,a,k(d,function(a){try{return[a.querySelector(e[1])]}catch(w){return setTimeout(function(){throw w;},0),[]}}),g);case 4:return h(e,2,a,k(d,function(a){try{return a.querySelectorAll(e[1])}catch(w){return setTimeout(function(){throw w;},0),[]}}),g);case 5:return h(e,1,a,k(d,function(a){return[a.parentNode]}),g);case 6:return h(e,1,a,k(d,function(a){var b=a.childNodes;for(a=0;a<b.length;a++){var c=b[a];if(1==c.nodeType)return[c]}return[]}),g);case 7:return h(e,1,a,k(d,function(a){var b=a.childNodes;for(a=b.length-1;0<=a;a--){var c=b[a];if(1==c.nodeType)return[c]}return[]}),g);case 8:return h(e,1,a,k(d,function(a){for(a=a.previousSibling;a&&1!==a.nodeType;)a=a.previousSibling;return a?[a]:[]}),g);case 9:return h(e,1,a,k(d,function(a){for(a=a.nextSibling;a&&1!==a.nodeType;)a=a.nextSibling;return a?[a]:[]}),g);case 10:for(a=0;a<d.length;a++){var b=d[a];n(b,!0);b.parentNode&&b.parentNode.removeChild(b)}break;case 11:for(a=0;a<d.length;a++)b=d[a],n(b,!1),b.innerHTML="";break;case 12:var l={total:0,done:0};for(a=0;a<d.length;a++)b=d[a],n(b,!1),b.innerHTML=e[1],p(b,l,g);return l.total>l.done?[0]:null;case 13:l={total:0,done:0};for(a=0;a<d.length;a++)if(b=d[a],b.parentNode){n(b,!0);var m=b.parentNode.cloneNode();m.innerHTML=e[1];p(m,l,g);for(c=0;c<m.childNodes.length;c++)b.parentNode.insertBefore(m.childNodes[c],b);b.parentNode.removeChild(b)}return l.total>l.done?[0]:null;case 14:l={total:0,done:0};for(a=0;a<d.length;a++)for(b=d[a],m=b.cloneNode(),m.innerHTML=e[1],p(m,l,g),c=0;c<m.childNodes.length;c++)b.appendChild(m.childNodes[c]);return l.total>l.done?[0]:null;case 15:l={total:0,done:0};for(a=0;a<d.length;a++){b=d[a];var q=b.firstChild;m=b.cloneNode();m.innerHTML=e[1];p(m,l,g);for(c=0;c<m.childNodes.length;c++)b.insertBefore(m.childNodes[c],q)}return l.total>l.done?[0]:null;case 16:l={total:0,done:0};for(a=0;a<d.length;a++)if(b=d[a],b.parentNode)for(m=b.parentNode.cloneNode(),m.innerHTML=e[1],p(m,l,g),c=0;c<m.childNodes.length;c++)b.parentNode.insertBefore(m.childNodes[c],b.nextSibling);return l.total>l.done?[0]:null;case 17:l={total:0,done:0};for(a=0;a<d.length;a++)if(b=d[a],b.parentNode)for(m=b.parentNode.cloneNode(),m.innerHTML=e[1],p(m,l,g),c=0;c<m.childNodes.length;c++)b.parentNode.insertBefore(m.childNodes[c],b);return l.total>l.done?[0]:null;case 18:g=e[1];for(a=0;a<d.length;a++){b=d[a];for(c in g)g.hasOwnProperty(c)&&b.setAttribute(c,g[c]);f.afterAttrChange.trigger(b)}break;case 19:g=e[1];for(a=0;a<d.length;a++){b=d[a];for(c=b.attributes.length-1;0<=c;c--)at=b.attributes[c].name,g.hasOwnProperty(at)||b.removeAttribute(at);for(c in g)g.hasOwnProperty(c)&&b.setAttribute(c,g[c]);f.afterAttrChange.trigger(b)}break;case 20:for(a=0;a<d.length;a++){b=d[a];for(c=1;c<e.length;c++)b.removeAttribute(e[c]);f.afterAttrChange.trigger(b)}break;case 21:g=e[1];for(a=0;a<d.length;a++){b=d[a];for(c in g)g.hasOwnProperty(c)&&((l=g[c].match(/^(.*?)(\s*)!important$/))?b.style.setProperty(c,l[1],"important"):b.style.setProperty(c,g[c]));f.afterAttrChange.trigger(b)}break;case 22:for(a=0;a<d.length;a++){b=d[a];for(c=1;c<e.length;c++)b.style.removeProperty(e[c]);f.afterAttrChange.trigger(b)}break;case 23:g=t(e[1]);for(a=0;a<d.length;a++){b=d[a];l=t(b.className);for(c in g)g.hasOwnProperty(c)&&(l[c]=!0);b.className=r(l);f.afterAttrChange.trigger(b)}break;case 24:g=t(e[1]);for(a=0;a<d.length;a++){b=d[a];l=t(b.className);for(c in g)g.hasOwnProperty(c)&&delete l[c];b.className=r(l);f.afterAttrChange.trigger(b)}break;case 25:for(a=0;a<d.length;a++)f.call(e[1],e[2],d[a])}}f.toClass=r;f.fromClass=t;f.apply=function g(a,d){d=d||document.documentElement;return function(c){c=c||function(){};var b=v(a,d,[d],function(){g(b,d)(c)});f.afterApply.trigger(d);b||setTimeout(c,0)}}})();"undefined"!=typeof module&&(module.exports=f)})("undefined"==typeof window?self:window);
